<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login - Green Guardian</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="max-w-md mx-auto mt-10 bg-white p-8 shadow rounded">
    <h2 class="text-2xl font-bold text-center mb-6">Login</h2>
{% if messages %}
<div id="popup-message" class="popup-container">
    {% for message in messages %}
    <div class="popup {{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>

<script>
    // Auto-hide popup after 3s
    setTimeout(() => {
        const popup = document.getElementById("popup-message");
        if (popup) popup.style.display = "none";
    }, 3000);
</script>

<style>
.popup-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
}
.popup {
    background: #2E8B57; /* green */
    color: white;
    padding: 12px 20px;
    margin-bottom: 10px;
    border-radius: 8px;
    font-weight: 500;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    animation: fadeIn 0.5s ease;
}
.popup.error { background: #c0392b; }
.popup.warning { background: #e67e22; }
.popup.success { background: #27ae60; }
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>
{% endif %}

    <form method="post">
      {% csrf_token %}

      <!-- Username -->
      <div class="mb-4">
        <label class="block font-medium mb-1">Username</label>
        <input type="text" name="username" class="w-full border px-3 py-2 rounded" required>
      </div>

      <!-- Password -->
      <div class="mb-4">
        <label class="block font-medium mb-1">Password</label>
        <input type="password" name="password" class="w-full border px-3 py-2 rounded" required>
      </div>

      <!-- Role -->
      <div class="mb-6">
        <label class="block font-medium mb-1">Role</label>
        <select name="role" class="w-full border px-3 py-2 rounded" required>
          <option value="">-- Select Role --</option>
          <option value="school_student">School Student</option>
          <option value="college_student">College Student</option>
          <option value="school_teacher">School Teacher</option>
          <option value="college_teacher">College Teacher</option>
          <option value="ngo">NGO</option>
          <option value="government">Government</option>
        </select>
      </div>

      <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
        Login
      </button>
    </form>

    <p class="text-center mt-4">
      Donâ€™t have an account? <a href="{% url 'signup' %}" class="text-green-600">Sign Up</a>
    </p>
  </div>
</body>
</html>
